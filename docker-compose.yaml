version: '2.1'
services:


  toerio-gui:
    image: oscardeli/toerio-gui:latest
    networks:
      - toerio

  toerio-api: 
    image: oscardeli/toerio-api:latest
    networks: 
      - toerio
    # environment: 
      # TODO: add environment variables.

  toerio-gateway:
    image: oscardeli/toerio-gateway:latest
    networks:
      - toerio
    ports: 
      - "5000:80"

    # Critical to prevent nginx crashing with 'upstream server not found'
    depends_on:  
      - toerio-api
      - toerio-gui


networks:
  toerio: